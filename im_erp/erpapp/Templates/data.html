{% extends "base.html" %}
{% block title %}SmartRnD - Data Records{% endblock title %}
{% block content %}
<style>
    /* Fixes a bug where collapsed item doesn't show content for more than a
     second */
    .collapse.show {
        visibility: visible;
    }



</style>
<!-- Main Content -->
<div class="col-8">
    <div class="accordion" id="accordionExample">
        <!-- Employee Table -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                        aria-expanded="false" aria-controls="collapseOne">
                    <h5>Employees</h5>
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                 data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span><a href="/add_new_emp" class="btn btn-primary btn-block">Add New Employee Record</a></span>
                    <div class="table-responsive">
                        <table id="employeedatatable" class="table table-striped table-bordered" width="100%">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Type of Employment</th>
                                <th>Max. Capacity</th>
                                <th>Hiring Date</th>
                                <th>Expiration Date</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for employee in employees %}
                            <tr>
                                <td>{{ employee.id }}</td>
                                <td>{{ employee.firstname }}</td>
                                <td>{{ employee.lastname }}</td>
                                <td>{{ employee.type }}</td>
                                <td>{{ employee.capacity }}</td>
                                <td>{{ employee.hiring_date }}</td>
                                <td>{{ employee.expiration_date }}</td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a
                                        href="/edit_emp/{{ employee.id }}"
                                        class="btn btn-primary btn-xs"
                                        data-title="Edit"
                                        data-toggle="confirmation"
                                        data-target="#edit"><span
                                        class="glyphicon glyphicon-pencil"></span></a></p></td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><a
                                        href="/delete_emp/{{ employee.id }}"
                                        class="btn btn-danger btn-xs"
                                        data-title="Delete"
                                        data-toggle="confirmation"
                                        data-target="#delete" id="delete"
                                        onclick="return confirm_delete('{{ employee.fullname }}')"><span
                                        class="glyphicon glyphicon-trash"></span></a></p></td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Project Table -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    <h5>Projects</h5>
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                 data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span><a href="/add_new_proj" class="btn btn-primary btn-block">Add New Project Record</a></span>
                    <div class="table-responsive">
                        <table id="projectdatatable" class="table table-striped table-bordered" width="100%">
                            <thead>
                            <tr>
                                <th class="col-sm-1">ID</th>
                                <th class="col-sm-2">Title</th>
                                <th class="col-sm-3">Description</th>
                                <th class="col-sm-1">Begin</th>
                                <th class="col-sm-1">End</th>
                                <th class="col-sm-1">Ressources</th>
                                <th class="col-sm-1">Edit</th>
                                <th class="col-sm-1">Delete</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for project in projects %}
                            <tr>
                                <td>{{ project.id }}</td>
                                <td>{{ project.title }}</td>
                                <td>{{ project.description }}</td>
                                <td>{{ project.begin }}</td>
                                <td>{{ project.end }}</td>
                                <td>{{ project.ressources }}</td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a
                                        href="/edit_proj/{{ project.id }}"
                                        class="btn btn-primary btn-xs"
                                        data-title="Edit"
                                        data-toggle="confirmation"
                                        data-target="#edit"><span
                                        class="glyphicon glyphicon-pencil"></span></a></p></td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><a
                                        href="/delete_proj/{{ project.id }}"
                                        class="btn btn-danger btn-xs"
                                        data-title="Delete"
                                        data-toggle="confirmation"
                                        data-target="#delete"
                                        onclick="return confirm_delete('{{ project.title }}')"><span
                                        class="glyphicon glyphicon-trash"></span></a></p></td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Chair Position Table -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    <h5>Positions</h5>
                </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                 data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span><a href="/add_new_pos" class="btn btn-primary btn-block">Add New Position Record</a></span>
                    <div class="table-responsive">
                        <table id="positiondatatable" class="table table-striped table-bordered" width="100%">
                            <thead>
                            <tr>
                                <th class="col-sm-1">ID</th>
                                <th class="col-sm-2">Title</th>
                                <th class="col-sm-6">Description</th>
                                <th class="col-sm-1">Ressources</th>
                                <th class="col-sm-1">Edit</th>
                                <th class="col-sm-1">Delete</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for position in positions %}
                            <tr>
                                <td>{{ position.id }}</td>
                                <td>{{ position.title }}</td>
                                <td>{{ position.description }}</td>
                                <td>{{ position.ressources }}</td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a
                                        href="/edit_pos/{{ position.id }}"
                                        class="btn btn-primary btn-xs"
                                        data-title="Edit"
                                        data-toggle="confirmation"
                                        data-target="#edit"><span
                                        class="glyphicon glyphicon-pencil"></span></a></p></td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><a
                                        href="/delete_pos/{{ position.id }}"
                                        class="btn btn-danger btn-xs"
                                        data-title="Delete"
                                        data-toggle="confirmation"
                                        data-target="#delete"
                                        onclick="return confirm_delete('{{ position.title }}')"><span
                                        class="glyphicon glyphicon-trash"></span></a></p></td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Chair Task Table -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    <h5>Chair Tasks</h5>
                </button>
            </h2>
            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                 data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span><a href="/add_new_chair" class="btn btn-primary btn-block">Add New Chair Record</a></span>
                    <div class="table-responsive">
                        <table id="chairdatatable" class="table table-striped table-bordered" width="100%">
                            <thead>
                            <tr>
                                <th class="col-sm-1">ID</th>
                                <th class="col-sm-2">Title</th>
                                <th class="col-sm-5">Description</th>
                                <th class="col-sm-1">Rotation</th>
                                <th class="col-sm-1">Requirement</th>
                                <th class="col-sm-1">Edit</th>
                                <th class="col-sm-1">Delete</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for chair in chairs %}
                            <tr>
                                <td>{{ chair.id }}</td>
                                <td>{{ chair.title }}</td>
                                <td>{{ chair.description }}</td>
                                <td>{{ chair.rotation }}</td>
                                <td>{{ chair.requirement }}</td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a
                                        href="/edit_chair/{{ chair.id }}"
                                        class="btn btn-primary btn-xs"
                                        data-title="Edit"
                                        data-toggle="confirmation"
                                        data-target="#edit"><span
                                        class="glyphicon glyphicon-pencil"></span></a></p></td>
                                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><a
                                        href="/delete_chair/{{ chair.id }}"
                                        class="btn btn-danger btn-xs"
                                        data-title="Delete"
                                        data-toggle="confirmation"
                                        data-target="#delete"
                                        onclick="return confirm_delete('{{ chair.title }}')"><span
                                        class="glyphicon glyphicon-trash"></span></a></p></td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Assignment Table -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingFive">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                    <h5>Assignments</h5>
                </button>
            </h2>
            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                 data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span><a href="/add_new_ass" class="btn btn-primary btn-block">Assign Employee to Task</a></span>
    <div class="table-responsive">
        <table id="assignmentdatatable" class="table table-striped table-bordered" width="100%">
            <thead>
            <tr>
                <th>ID</th>
                <th>Employee</th>
                <th>Task</th>
                <th>Comment</th>
                <th>Start</th>
                <th>End</th>
                <th>Percentage</th>
                <th>Responsibility</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
            </thead>
            <tbody>
            {% for assignment in assignments %}
            <tr>
                <td>{{ assignment.id }}</td>
                <td>{{ assignment.employee }}</td>
                <td>{{ assignment.task }}</td>
                <td>{{ assignment.comment }}</td>
                <td>{{ assignment.start }}</td>
                <td>{{ assignment.end }}</td>
                <td>{{ assignment.percentage }}</td>
                <td>{{ assignment.responsibility }}</td>
                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a href="/edit_ass/{{ assignment.id }}"
                                                                                  class="btn btn-primary btn-xs"
                                                                                  data-title="Edit"
                                                                                  data-toggle="confirmation"
                                                                                  data-target="#edit"><span
                        class="glyphicon glyphicon-pencil"></span></a></p></td>
                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><a
                        href="/delete_ass/{{ assignment.id }}" class="btn btn-danger btn-xs" data-title="Delete"
                        data-toggle="confirmation" data-target="#delete"
                        onclick="return confirm_delete('this assignment(id = {{ assignment.id }})')"><span
                        class="glyphicon glyphicon-trash"></span></a></p></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Sidebar -->
<div class="col-3">
    <h4>Warning(s):</h4>
    {% if warnings_length > 0 %}
        {% for warning in warnings %}
        <div class="alert alert-danger" role="alert">
            {{ warning }}
        </div>
        {% endfor %}
    {% else %}
        <div class="alert alert-success" role="alert">
            Everything looks fine!
        </div>
    {% endif %}

</div>
{% endblock content %}